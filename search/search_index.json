{"config":{"lang":["pt"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"IARA: Intelig\u00eancia Antifraude e Risco Automatizada","text":"<p>Ecossistema de Dados Sint\u00e9ticos e Detec\u00e7\u00e3o de Fraudes PIX em Tempo Real</p> <p> </p> <p> </p>"},{"location":"#sobre-o-projeto","title":"Sobre o Projeto","text":"<p>O projeto IARA \u00e9 uma solu\u00e7\u00e3o completa para a seguran\u00e7a no arranjo de pagamentos PIX. O sistema opera sob uma arquitetura de microsservi\u00e7os na nuvem, utilizando modelos de Deep Learning em Cascata para classificar transa\u00e7\u00f5es em milissegundos.</p> <p>O grande diferencial do IARA \u00e9 a supera\u00e7\u00e3o da barreira de dados banc\u00e1rios protegidos por sigilo: desenvolvemos um motor de simula\u00e7\u00e3o estat\u00edstica que gera um ecossistema financeiro sint\u00e9tico de alta fidelidade (Lakehouse), permitindo o treinamento de modelos capazes de detectar tipologias complexas como Engenharia Social e Lavagem de Dinheiro.</p>"},{"location":"#principais-funcionalidades","title":"Principais Funcionalidades","text":"<ul> <li>Gera\u00e7\u00e3o de Dados Sint\u00e9ticos: Simula\u00e7\u00e3o de milh\u00f5es de agentes (PF/PJ) com comportamento estat\u00edstico real.</li> <li>Detec\u00e7\u00e3o em Cascata:<ol> <li>Filtro de Risco: Modelo Bin\u00e1rio (Alta Sensibilidade e Recall).</li> <li>Tipificador: Modelo Multiclasse (Categoriza\u00e7\u00e3o do tipo de ataque).</li> </ol> </li> <li>Topologias de Fraude: Detec\u00e7\u00e3o de grafos complexos (Triangula\u00e7\u00e3o e Consolida\u00e7\u00e3o).</li> <li>Tempo Real: Infer\u00eancia via Azure Functions com baixa lat\u00eancia.</li> </ul>"},{"location":"#stack-tecnologica","title":"Stack Tecnol\u00f3gica","text":"<p>O projeto utiliza uma arquitetura moderna distribu\u00edda em camadas de dados, intelig\u00eancia e aplica\u00e7\u00e3o.</p> Camada Ferramentas Principais Lakehouse e Data Gen Machine Learning Backend e API Frontend e Cloud"},{"location":"#a-equipe","title":"A Equipe","text":"<p>Especialistas respons\u00e1veis pela constru\u00e7\u00e3o do ecossistema e arquitetura.</p> Especialista Papel e Foco Contato Samuel Amorim Modelagem estat\u00edstica, Engenharia de Dados e Data Science LinkedIn Nicholas Campanelli Engenheiro de Software (Fullstack) LinkedIn Rodrigo Genaro Arquiteto de Cloud (Azure e DevOps) LinkedIn Leonardo Rondam Analista de Dados (Insights) LinkedIn"},{"location":"01_arquitetura/cloud/","title":"Arquitetura de Cloud","text":"<p>A implantacao da solucao utiliza servicos Azure e e projetada para garantir escalabilidade, seguranca e isolamento de rede.</p> <p></p> <p></p> Componente Servico Azure Correspondente Funcao na Solucao Frontend Azure Web App (ou similar) Hospeda a aplicacao de simulacao (React). Backend (PixApi) Azure Virtual Machine (ou App Service) Hospeda o servico Spring Boot para a simulacao de transacoes. Servico de Analise (AnaliseApi) Azure Functions (Python) Executa o motor de IA (serverless), ideal para responder a eventos de baixa latencia. Banco de Dados Azure MySQL Armazenamento persistente de dados de clientes, contas e transacoes. Rede/Seguranca Load Balancer, OpenVPN, Blob Storage Gerencia o trafego, garante a seguranca da rede e armazena grandes volumes de dados/artefatos de ML."},{"location":"01_arquitetura/software/","title":"Vis\u00e3o Geral do Software","text":""},{"location":"01_arquitetura/software/#arquitetura-de-software","title":"Arquitetura de Software","text":"<p>A arquitetura logica e baseada em microsservicos e segue um fluxo de chamadas sincrona HTTP/REST, permitindo a separacao de responsabilidades entre as camadas de transacao e de analise de IA.</p> <p></p>"},{"location":"01_arquitetura/software/#1-camada-frontend","title":"1. Camada Frontend","text":"Componente Funcao Tecnologias App (Frontend) Aplicacao frontend que proporciona um ambiente virtual que auxilia a simulacao de transacoes. React (Vite)."},{"location":"01_arquitetura/software/#2-camada-de-api-backend","title":"2. Camada de API (Backend)","text":"Componente Funcao Fluxo de Dados PixApi Servico RESTful para simular transacoes PIX. Ele gerencia o fluxo de transacoes e contas, persistindo dados no Banco de Dados. Recebe requisicoes HTTP/REST e persiste via CRUD (JPA/MySQL). AnaliseApi Servico focado em analisar dados de transacoes PIX e detectar transacoes fraudulentas. Ele e o motor antifraude que executa a logica de IA. E invocado pela <code>PixApi</code> (cliente HTTP) para a predicao."},{"location":"01_arquitetura/software/#fluxo-da-deteccao-de-fraude-cascata","title":"Fluxo da Deteccao de Fraude (Cascata)","text":"<p>O fluxo se inicia quando a PixApi recebe uma requisicao de transacao e, antes de finaliza-la no banco, invoca a AnaliseApi para a predicao em tempo real.</p> Passo Componente Acao Principal 1. Transacao <code>App</code> \\(\\rightarrow\\) <code>PixApi</code> Envio dos dados da transacao (via HTTP/REST). 2. Analise <code>PixApi</code> \\(\\rightarrow\\) <code>AnaliseApi</code> Invocacao do servico de analise (cliente HTTP/REST). 3. Predicao <code>AnaliseApi</code> (Azure Function) Carrega modelos de Keras/TensorFlow e executa o pipeline de inferencia em cascata. 4. Persistencia <code>PixApi</code> \\(\\rightarrow\\) Banco de Dados Salva a transacao e o resultado da analise (fraude ou legitima)."},{"location":"02_modelagem_estatistica/estatistica/","title":"Especifica\u00e7\u00e3o T\u00e9cnica: Modelagem Estat\u00edstica e Estoc\u00e1stica","text":"<p>Este documento detalha as distribui\u00e7\u00f5es de probabilidade, fun\u00e7\u00f5es determin\u00edsticas e processos estoc\u00e1sticos utilizados para compor o \"Universo Financeiro Sint\u00e9tico\" do projeto IARA. A gera\u00e7\u00e3o de dados segue o paradigma de Modelo Preditivo Invertido, onde comportamentos latentes (causas) s\u00e3o definidos a priori para gerar observ\u00e1veis transacionais (efeitos).</p>"},{"location":"02_modelagem_estatistica/estatistica/#resumo-das-caracteristicas-modeladas","title":"Resumo das Caracter\u00edsticas Modeladas","text":""},{"location":"02_modelagem_estatistica/estatistica/#1-agentes-e-entidades-estado-estatico","title":"1. Agentes e Entidades (Estado Est\u00e1tico)","text":"<ul> <li>Volumetria Populacional: Fun\u00e7\u00e3o determin\u00edstica baseada em dados macroecon\u00f4micos (BACEN) e press\u00e3o de atividade (\\(T_{esperado}\\)).</li> <li>Demografia (Idade/Funda\u00e7\u00e3o): Distribui\u00e7\u00e3o Uniforme Cont\u00ednua (\\(U[a, b]\\)) para datas de nascimento e funda\u00e7\u00e3o.</li> <li>Densidade de Contas: Distribui\u00e7\u00e3o Uniforme Discreta condicionada \u00e0 natureza jur\u00eddica (PF/PJ).</li> <li>Risco Latente da Conta (\\(R\\)): Vari\u00e1vel Aleat\u00f3ria de Bernoulli (\\(p=0.05\\)) determinando contas \"laranjas\".</li> <li>Saldo Inicial (\\(S\\)): Distribui\u00e7\u00e3o Log-Normal condicionada \u00e0 natureza jur\u00eddica (\\(\\mu, \\sigma\\)) para simular desigualdade de riqueza.</li> <li>Temporalidade de Abertura: Distribui\u00e7\u00e3o Uniforme condicionada ao Risco (\\(R\\)); contas fraudulentas s\u00e3o recentes.</li> <li>Lat\u00eancia de Chave Pix: Distribui\u00e7\u00e3o Uniforme Discreta condicionada ao Risco (\\(R\\)); fraudadores operam com imediatismo.</li> </ul>"},{"location":"02_modelagem_estatistica/estatistica/#2-eventos-e-dinamica-transacoes","title":"2. Eventos e Din\u00e2mica (Transa\u00e7\u00f5es)","text":"<ul> <li>Sazonalidade Temporal: Amostragem Categ\u00f3rica Ponderada (Dias \u00dateis/Fins de Semana) e Uniforme Cont\u00ednua (Hor\u00e1rios).</li> <li>Valor Transacional (\\(V_{tx}\\)): Modelo de Mistura (Mixture Model) composto por uma Log-Normal Base multiplicada por Fatores de Magnitude Discretos.</li> <li>Causalidade de Fraude (\\(P(F)\\)): \u00c1rvore de Decis\u00e3o Probabil\u00edstica Hier\u00e1rquica baseada em vetores de risco (Alvo, Destino, Chave).</li> <li>Topologia de Lavagem (Fan-Out): Processo de Ramifica\u00e7\u00e3o Estoc\u00e1stica com Parti\u00e7\u00e3o de Valor via Distribui\u00e7\u00e3o de Dirichlet.</li> <li>Topologia de Consolida\u00e7\u00e3o (Fan-In): Converg\u00eancia Temporal Uniforme em Janela Curta (Ataque Coordenado).</li> </ul>"},{"location":"02_modelagem_estatistica/estatistica/#detalhamento-da-modelagem","title":"Detalhamento da Modelagem","text":""},{"location":"02_modelagem_estatistica/estatistica/#1-modelagem-macro-estrutural-populacao","title":"1. Modelagem Macro-Estrutural (Popula\u00e7\u00e3o)","text":"<p>A escala do ecossistema \u00e9 ancorada na realidade econ\u00f4mica. O n\u00famero de agentes (\\(N\\)) para um determinado munic\u00edpio n\u00e3o \u00e9 aleat\u00f3rio, mas uma fun\u00e7\u00e3o do Volume Financeiro Anual (\\(V_{anual}\\)) daquela regi\u00e3o reportado pelo Banco Central.</p> <p>Fun\u00e7\u00e3o Geradora de Popula\u00e7\u00e3o:</p> \\[ N_{agentes} = \\max\\left(1, \\left\\lfloor \\frac{V_{anual} \\cdot f_{escala}}{T_{esperado} \\cdot 12} \\right\\rfloor\\right) \\] <p>Onde: * \\(f_{escala}\\): Fator de redu\u00e7\u00e3o do dataset (amostragem). * \\(T_{esperado}\\): Atividade m\u00e9dia mensal esperada por cliente.</p>"},{"location":"02_modelagem_estatistica/estatistica/#2-modelagem-micro-atributiva-agentes","title":"2. Modelagem Micro-Atributiva (Agentes)","text":"<p>Cada agente \u00e9 instanciado com atributos estoc\u00e1sticos que definem seu perfil comportamental.</p>"},{"location":"02_modelagem_estatistica/estatistica/#21-risco-latente-r","title":"2.1. Risco Latente (\\(R\\))","text":"<p>Propriedade fundamental para a inje\u00e7\u00e3o de fraudes. Define se uma conta pertence a um usu\u00e1rio leg\u00edtimo ou a um laranja/fraudador.</p> \\[ R \\sim Bernoulli(p_{risco}) \\] <ul> <li>Se \\(R=1\\) (Sucesso): A conta assume comportamento de alto risco (abertura recente, cadastro r\u00e1pido de chaves).</li> <li>Par\u00e2metro padr\u00e3o: \\(p_{risco} = 0.05\\).</li> </ul>"},{"location":"02_modelagem_estatistica/estatistica/#22-capacidade-financeira-saldo","title":"2.2. Capacidade Financeira (Saldo)","text":"<p>O saldo inicial (\\(S_{conta}\\)) modela a disparidade de riqueza utilizando uma Distribui\u00e7\u00e3o Log-Normal. Os par\u00e2metros s\u00e3o ajustados condicionalmente \u00e0 natureza do cliente (Pessoa F\u00edsica vs. Jur\u00eddica) para garantir que empresas tenham, em m\u00e9dia, maior liquidez e vari\u00e2ncia.</p> \\[ S_{conta} \\sim Log\\text{-}Normal(\\mu, \\sigma^2) \\] Natureza Par\u00e2metros (\\(\\mu, \\sigma\\)) Caracter\u00edstica Pessoa F\u00edsica \\(\\mu=6.0, \\sigma=1.5\\) Distribui\u00e7\u00e3o padr\u00e3o de varejo. Pessoa Jur\u00eddica \\(\\mu=9.0, \\sigma=1.8\\) Cauda longa (saldos multimilion\u00e1rios)."},{"location":"02_modelagem_estatistica/estatistica/#23-temporalidade-condicional","title":"2.3. Temporalidade Condicional","text":"<p>A \"idade\" da conta e das chaves Pix n\u00e3o \u00e9 aleat\u00f3ria, mas dependente do Risco (\\(R\\)).</p> <ul> <li> <p>Data de Abertura:</p> <ul> <li>Baixo Risco (\\(R=0\\)): Hist\u00f3rico longo, at\u00e9 10 anos. \\(U[D_{hoje}-3650, D_{limite}]\\).</li> <li>Alto Risco (\\(R=1\\)): Hist\u00f3rico curto, for\u00e7ado nos \u00faltimos 6 meses. \\(U[D_{hoje}-180, D_{limite}]\\).</li> </ul> </li> <li> <p>Lat\u00eancia de Cadastro de Chave (\\(\\Delta_{chave}\\)):     Tempo decorrido entre a abertura da conta e o cadastro da chave.</p> <ul> <li>Alto Risco (\\(R=1\\)): Imediatismo operacional. \\(\\Delta \\sim U\\{1, \\dots, 7\\}\\) dias.</li> <li>Baixo Risco (\\(R=0\\)): Comportamento org\u00e2nico. \\(\\Delta \\sim U\\{1, \\dots, 90\\}\\) dias.</li> </ul> </li> </ul>"},{"location":"02_modelagem_estatistica/estatistica/#3-fisica-das-transacoes-eventos","title":"3. F\u00edsica das Transa\u00e7\u00f5es (Eventos)","text":"<p>A gera\u00e7\u00e3o de cada transa\u00e7\u00e3o \u00e9 um evento independente modelado por um sistema de mistura de distribui\u00e7\u00f5es.</p>"},{"location":"02_modelagem_estatistica/estatistica/#31-o-modelo-de-valor-v_tx","title":"3.1. O Modelo de Valor (\\(V_{tx}\\))","text":"<p>O valor final n\u00e3o \u00e9 amostrado de uma \u00fanica distribui\u00e7\u00e3o, mas composto por um valor base estoc\u00e1stico e um multiplicador determin\u00edstico de contexto (\\(M\\)).</p> \\[ V_{tx} = V_{base} \\cdot M \\] <ol> <li>Componente Estoc\u00e1stico (\\(V_{base}\\)): Segue uma Log-Normal global.     \\(\\(V_{base} \\sim Log\\text{-}Normal(\\ln(150), 0.8^2)\\)\\)</li> <li>Componente Determin\u00edstico (\\(M\\)):<ul> <li>Transa\u00e7\u00e3o Normal: \\(M=1\\)</li> <li>Outlier Leg\u00edtimo: \\(M=2.5\\) (Probabilidade de Ocorr\u00eancia \\(P=0.04\\))</li> <li>Fraude Padr\u00e3o: \\(M=30.0\\)</li> </ul> </li> </ol>"},{"location":"02_modelagem_estatistica/estatistica/#32-mecanismo-abaixo-do-radar","title":"3.2. Mecanismo \"Abaixo do Radar\"","text":"<p>Para simular fraudes que tentam burlar regras de limite, uma sub-rotina substitui a distribui\u00e7\u00e3o cont\u00ednua por valores discretos de limiar com probabilidade \\(P_{radar}=0.40\\) (dado que \u00e9 fraude).</p> \\[ V_{tx}|(Radar=1) \\sim U\\{999.90, 499.90, 1999.90\\} \\]"},{"location":"02_modelagem_estatistica/estatistica/#4-motor-de-causalidade-probabilidade-de-fraude","title":"4. Motor de Causalidade (Probabilidade de Fraude)","text":"<p>A decis\u00e3o de marcar uma transa\u00e7\u00e3o como fraudulenta (\\(F=1\\)) segue uma l\u00f3gica hier\u00e1rquica de prioridades baseada no vetor de contexto \\(\\mathbf{x}\\).</p> \\[P(F|\\mathbf{x}) = \\text{select}(\\mathbf{x})\\] Prioridade Condi\u00e7\u00e3o (\\(\\mathbf{x}\\)) Probabilidade Atribu\u00edda Descri\u00e7\u00e3o 1 Alvo Vulner\u00e1vel (Idade Pagador \\(\\ge\\) 55) \\(0.80\\) Engenharia Social contra idosos. 2 Destino de Risco (Conta Destino \\(R=1\\)) \\(0.60\\) Transfer\u00eancia para laranja. 3 Chave Recente (Cadastro \\(\\le\\) 15 dias) \\(0.40\\) Chaves descart\u00e1veis. 4 Base (Nenhuma condi\u00e7\u00e3o acima) \\(0.35\\) Fraude de oportunidade. <p>O r\u00f3tulo final \u00e9 amostrado de \\(I_F \\sim Bernoulli(P(F|\\mathbf{x}))\\).</p>"},{"location":"02_modelagem_estatistica/estatistica/#5-topologias-de-grafo-estocastico","title":"5. Topologias de Grafo Estoc\u00e1stico","text":"<p>Para fraudes complexas (Lavagem de Dinheiro), o sistema gera sub-grafos com propriedades estat\u00edsticas controladas.</p>"},{"location":"02_modelagem_estatistica/estatistica/#51-triangulacao-fan-out","title":"5.1. Triangula\u00e7\u00e3o (Fan-Out)","text":"<p>Simula a dispers\u00e3o de fundos de um n\u00f3 para m\u00faltiplos laranjas.</p> <ul> <li>Estrutura de \u00c1rvore: Profundidade \\(D \\sim U\\{2, 4\\}\\) e Largura \\(k \\sim U\\{2, 5\\}\\).</li> <li>Parti\u00e7\u00e3o de Valor (Dirichlet): A divis\u00e3o do valor do n\u00f3 pai para os \\(k\\) filhos segue uma distribui\u00e7\u00e3o de Dirichlet Sim\u00e9trica, garantindo soma 1 e assimetria realista.     \\(\\((p_1, \\dots, p_k) \\sim Dir(\\mathbf{1})\\)\\)</li> <li>Delay Temporal: Introduz lat\u00eancia progressiva baseada na profundidade do n\u00edvel (\\(L\\)).     \\(\\(\\Delta t \\sim U[60 \\cdot (L-1), 3600 \\cdot (L-1)]\\)\\)</li> </ul>"},{"location":"02_modelagem_estatistica/estatistica/#52-consolidacao-fan-in","title":"5.2. Consolida\u00e7\u00e3o (Fan-In)","text":"<p>Simula a agrega\u00e7\u00e3o de fundos em uma conta mestre.</p> <ul> <li>Fontes: N\u00famero de n\u00f3s origem \\(N \\sim U\\{10, 30\\}\\).</li> <li>Janela Temporal: Converg\u00eancia for\u00e7ada em intervalo curto.     \\(\\(\\Delta t \\sim U[1, 600] \\text{ segundos}\\)\\)</li> </ul>"},{"location":"02_modelagem_estatistica/estatistica/#6-tipologias-comportamentais-especificas","title":"6. Tipologias Comportamentais Espec\u00edficas","text":"<p>Al\u00e9m das topologias de grafo, o sistema modela padr\u00f5es comportamentais individuais baseados em regras condicionais para simular vetores de ataque comuns.</p>"},{"location":"02_modelagem_estatistica/estatistica/#61-engenharia-social-golpe-do-idoso","title":"6.1. Engenharia Social (Golpe do Idoso)","text":"<p>Simula a indu\u00e7\u00e3o da v\u00edtima ao erro. * Filtro de Alvo (\\(A\\)): Apenas pagadores com <code>Idade</code> \\(\\ge 55\\) anos. * Probabilidade: Alt\u00edssima prioridade na \u00e1rvore de decis\u00e3o (\\(P=0.80\\)). * Comportamento: Transa\u00e7\u00f5es de valor moderado a alto, sem padr\u00e3o de hor\u00e1rio noturno for\u00e7ado.</p>"},{"location":"02_modelagem_estatistica/estatistica/#62-ataque-de-madrugada-automacao","title":"6.2. Ataque de Madrugada (Automa\u00e7\u00e3o)","text":"<p>Simula invas\u00e3o de conta ou coa\u00e7\u00e3o noturna. * Trigger: Probabilidade condicional \\(P_{madrugada} = 0.70\\) (dado que \u00e9 fraude). * Modifica\u00e7\u00e3o Temporal: Se ativado, o timestamp da transa\u00e7\u00e3o \u00e9 for\u00e7ado para uma distribui\u00e7\u00e3o uniforme discreta na janela cr\u00edtica.     \\(\\(H_{tx} \\sim U\\{01, 02, 03, 04\\} \\text{ (Horas)}\\)\\)</p>"},{"location":"02_modelagem_estatistica/estatistica/#63-teste-de-conta-ping","title":"6.3. Teste de Conta (Ping)","text":"<p>Simula a verifica\u00e7\u00e3o de validade de uma conta laranja antes do ataque principal. * Trigger: Ocorre com \\(P=0.30\\) antes de uma fraude em cadeia. * Valor (\\(V_{teste}\\)): Micro-transa\u00e7\u00e3o.     \\(\\(V_{teste} \\sim U[0.01, 1.00] \\text{ BRL}\\)\\) * Lat\u00eancia: Ocorre minutos antes da transa\u00e7\u00e3o principal.     \\(\\(\\Delta t \\sim U\\{1, \\dots, 5\\} \\text{ minutos}\\)\\)</p>"},{"location":"02_modelagem_estatistica/estatistica/#7-hiperparametros-de-simulacao-configuracao-global","title":"7. Hiperpar\u00e2metros de Simula\u00e7\u00e3o (Configura\u00e7\u00e3o Global)","text":"<p>A estabilidade estat\u00edstica do universo sint\u00e9tico \u00e9 controlada por um conjunto de constantes globais (hiperpar\u00e2metros).</p> Par\u00e2metro Valor Padr\u00e3o Descri\u00e7\u00e3o Estat\u00edstica <code>PROB_CONTA_ALTO_RISCO</code> <code>0.05</code> Par\u00e2metro \\(p\\) da Bernoulli para gera\u00e7\u00e3o de contas laranjas (\\(R\\)). <code>MAX_DIAS_CADASTRO_CHAVE_RISCO</code> <code>7</code> Limite superior da Uniforme para lat\u00eancia de chave em contas \\(R=1\\). <code>SALDO_PF_MEAN</code> <code>6.0</code> M\u00e9dia (\\(\\mu\\)) da Log-Normal para saldo de Pessoa F\u00edsica. <code>SALDO_PJ_MEAN</code> <code>9.0</code> M\u00e9dia (\\(\\mu\\)) da Log-Normal para saldo de Pessoa Jur\u00eddica. <code>PROB_FRAUDE_BASE</code> <code>0.35</code> Baseline da probabilidade de fraude (\\(P(F)\\)) sem agravantes. <code>MULTIPLICADOR_MAGNITUDE_FRAUDE</code> <code>30.0</code> Fator determin\u00edstico \\(M\\) para valores fraudulentos. <code>PROB_ABAIXO_RADAR</code> <code>0.40</code> Probabilidade de substitui\u00e7\u00e3o da Log-Normal por valores discretos. <code>VALORES_LIMITE_RADAR</code> <code>[999.9, ...]</code> Espa\u00e7o amostral discreto para fraudes \"Abaixo do Radar\"."},{"location":"02_modelagem_estatistica/output/","title":"Estrutura de Sa\u00edda (Modelo de Dados)","text":"<p>Esta se\u00e7\u00e3o detalha o modelo relacional simples que materializa os \"agentes\" e \"eventos\" gerados pelo pipeline sint\u00e9tico. O modelo \u00e9 composto por quatro tabelas Delta principais, todas armazenadas no database <code>transacoes_db.copper</code>[cite: 561, 562].</p>"},{"location":"02_modelagem_estatistica/output/#1-transacoes_dbcopperclientes","title":"1. <code>transacoes_db.copper.clientes</code>","text":"<p>Esta \u00e9 a tabela raiz que armazena a popula\u00e7\u00e3o de \"agentes\" Pessoa F\u00edsica (PF) e Pessoa Jur\u00eddica (PJ)[cite: 563, 564].</p> Coluna Tipo Descri\u00e7\u00e3o Fun\u00e7\u00f5es na An\u00e1lise <code>id</code> <code>uuid</code> Chave prim\u00e1ria \u00fanica do cliente. <code>nome</code> <code>string</code> Nome completo (PF) ou Raz\u00e3o Social (PJ). <code>id_natureza</code> <code>int</code> 1 para PF, 2 para PJ[cite: 574]. Categoriza\u00e7\u00e3o do agente. <code>registro_nacional</code> <code>string</code> CPF ou CNPJ formatado[cite: 575]. <code>nascido_em</code> <code>date</code> Data de nascimento (PF) ou funda\u00e7\u00e3o (PJ)[cite: 576]. Usado para a l\u00f3gica de Alvo Vulner\u00e1vel (Engenharia Social)[cite: 423]. <code>municipio_ibge</code> <code>int</code> Munic\u00edpio de origem do cliente[cite: 577]. Distribui\u00e7\u00e3o geogr\u00e1fica."},{"location":"02_modelagem_estatistica/output/#2-transacoes_dbcoppercontas","title":"2. <code>transacoes_db.copper.contas</code>","text":"<p>Armazena as contas banc\u00e1rias associadas aos clientes. Esta tabela \u00e9 crucial por conter o sinal de \"Alto Risco\"[cite: 579, 581].</p> Coluna Tipo Descri\u00e7\u00e3o L\u00f3gica de Gera\u00e7\u00e3o/Fraude <code>id</code> <code>uuid</code> Chave prim\u00e1ria \u00fanica da conta[cite: 585]. <code>id_cliente</code> <code>uuid</code> Chave estrangeira para a tabela <code>clientes</code>[cite: 586]. V\u00ednculo com o agente. <code>saldo</code> <code>decimal</code> Saldo inicial (amostrado da Log-Normal)[cite: 587]. Base para o c\u00e1lculo da feature <code>valor_vs_saldo_pagador</code>[cite: 1083]. <code>aberta_em</code> <code>date</code> Data de abertura (condicional ao risco)[cite: 588]. Usada na l\u00f3gica de idade da conta. <code>is_high_risk</code> <code>int</code> 1 se a conta foi marcada como \"Alto Risco\" (via Bernoulli), 0 caso contr\u00e1rio[cite: 589]. Sinal fundamental para a l\u00f3gica de probabilidade de fraude (\\(P(F)\\))[cite: 425]."},{"location":"02_modelagem_estatistica/output/#3-transacoes_dbcopperchaves_pix","title":"3. <code>transacoes_db.copper.chaves_pix</code>","text":"<p>Armazena as chaves PIX. A data de cadastro desta chave \u00e9 um sinal crucial, pois seu delta em rela\u00e7\u00e3o \u00e0 data de abertura da conta \u00e9 usado para definir a probabilidade de fraude[cite: 594, 595].</p> Coluna Tipo Descri\u00e7\u00e3o L\u00f3gica de Gera\u00e7\u00e3o/Fraude <code>id</code> <code>uuid</code> Chave prim\u00e1ria \u00fanica da chave[cite: 599]. <code>id_conta</code> <code>uuid</code> Chave estrangeira para a tabela <code>contas</code>[cite: 600]. <code>chave</code> <code>string</code> O valor da chave (ex: e-mail, CPF, aleat\u00f3ria)[cite: 602]. <code>id_tipo_chave</code> <code>int</code> Tipo da chave (CPF, e-mail, etc.)[cite: 604]. <code>cadastrada_em</code> <code>timestamp</code> Data de cadastro (condicional ao risco da conta)[cite: 605]. Usada para definir a condi\u00e7\u00e3o de Chave Recente (\\(C\\))[cite: 426]."},{"location":"02_modelagem_estatistica/output/#4-transacoes_dbcoppertransacoes","title":"4. <code>transacoes_db.copper.transacoes</code>","text":"<p>Esta \u00e9 a tabela de \"eventos\" principal. Cont\u00e9m todas as transa\u00e7\u00f5es PIX, tanto leg\u00edtimas quanto fraudulentas, com os sinais comportamentais inseridos[cite: 606, 607].</p> Coluna Tipo Descri\u00e7\u00e3o Fun\u00e7\u00f5es na An\u00e1lise de IA/Grafos <code>id</code> <code>uuid</code> Chave prim\u00e1ria \u00fanica da transa\u00e7\u00e3o[cite: 612]. <code>id_conta_origem</code> <code>uuid</code> Conta de origem[cite: 613]. N\u00f3 Pagador. <code>id_conta_destino</code> <code>uuid</code> Conta de destino[cite: 614]. N\u00f3 Recebedor. <code>valor</code> <code>decimal</code> Valor final da transa\u00e7\u00e3o[cite: 616]. Feature mais importante para o modelo bin\u00e1rio[cite: 1106]. <code>data</code> <code>timestamp</code> Data e hora da transa\u00e7\u00e3o[cite: 617]. Usada para extrair o <code>hora_do_dia</code> e aplicar l\u00f3gica de Ataque de Madrugada[cite: 617, 710]. <code>is_fraud</code> <code>int</code> 0 (Leg\u00edtima) ou 1 (Fraude)[cite: 618]. Target do Modelo Bin\u00e1rio. <code>fraud_type</code> <code>string</code> Categoria da fraude (ex: <code>engenharia_social</code>, <code>teste_de_conta</code>)[cite: 619]. Target do Modelo Multiclasse. <code>id_transacao_cadeia_pai</code> <code>uuid</code> Usada para vincular transa\u00e7\u00f5es de dispers\u00e3o (filhas) \u00e0 fraude raiz[cite: 620]. Permite a reconstru\u00e7\u00e3o de Grafos (Fan-Out/Fan-In)[cite: 509]."},{"location":"03_ia_modelos/catalogo_features/","title":"Catalogo de Features","text":"<p>(<code>transacoes_db.feature_store.in_live_features</code>) \u00e9 a fonte \u00fanica de verdade para os atributos utilizados tanto no treinamento dos modelos quanto na infer\u00eancia em tempo real. Ela consolida dados cadastrais (perfil), contexto t\u00e9cnico do arranjo PIX e deriva m\u00e9tricas comportamentais complexas baseadas no  hist\u00f3rico transacional.</p>"},{"location":"03_ia_modelos/catalogo_features/#1-linhagem-e-origem-dos-dados","title":"1. Linhagem e Origem dos Dados","text":"<p>As features s\u00e3o constru\u00eddas a partir da unifica\u00e7\u00e3o de tr\u00eas dom\u00ednios de dados da camada refinada (Gold/Copper):</p> <ol> <li>Fluxo Transacional: Hist\u00f3rico de eventos financeiros, utilizado para c\u00e1lculos de janelas deslizantes e tend\u00eancias.</li> <li>Dimens\u00e3o Conta: Dados de saldo e datas de abertura, essenciais para c\u00e1lculo de risco de cr\u00e9dito e idade da conta.</li> <li>Dimens\u00e3o Cliente: Dados demogr\u00e1ficos (Data de Nascimento, Natureza Jur\u00eddica) fundamentais para a detec\u00e7\u00e3o de Engenharia Social.</li> </ol>"},{"location":"03_ia_modelos/catalogo_features/#2-dicionario-de-dados","title":"2. Dicion\u00e1rio de Dados","text":"<p>As vari\u00e1veis est\u00e3o organizadas por categoria anal\u00edtica.</p>"},{"location":"03_ia_modelos/catalogo_features/#21-perfil-estatico-entidades","title":"2.1. Perfil Est\u00e1tico (Entidades)","text":"<p>Atributos cadastrais e de estado associados \u00e0s partes envolvidas (Pagador e Recebedor) no momento da transa\u00e7\u00e3o.</p> Nome da Feature Tipo Descri\u00e7\u00e3o Funcional Relev\u00e2ncia para Fraude <code>pagador_saldo</code> Decimal Saldo dispon\u00edvel na conta de origem. Cr\u00edtico para calcular o comprometimento financeiro (esvaziamento de conta). <code>recebedor_saldo</code> Decimal Saldo atual da conta de destino. Contas laranjas costumam ter saldo pr\u00f3ximo a zero antes do ataque. <code>pagador_data_nascimento</code> Date Data de nascimento do cliente pagador. Alta: Vari\u00e1vel principal para identificar v\u00edtimas de golpes contra idosos. <code>recebedor_data_nascimento</code> Date Data de nascimento do cliente recebedor. Ajuda a identificar laranjas jovens ou perfis sint\u00e9ticos. <code>[pagador/recebedor]_natureza_id</code> Int Classifica\u00e7\u00e3o da entidade (1=PF, 2=PJ). Estabelece o padr\u00e3o de movimenta\u00e7\u00e3o esperado (CNPJ movimenta mais que CPF). <code>[pagador/recebedor]_tipo_conta_id</code> Int Modalidade (Corrente, Poupan\u00e7a, Pagamento). Contas de pagamento s\u00e3o vetores comuns para contas descart\u00e1veis. <code>[pagador/recebedor]_conta_aberta_em</code> Timestamp Data original de abertura da conta. Base para o c\u00e1lculo da idade da conta. <code>recebedor_idade_conta_dias</code> Int Tempo de vida da conta de destino (em dias). Detecta contas \"laranjas\" rec\u00e9m-criadas para receber golpes. <code>pagador_idade_conta_dias</code> Int Tempo de vida da conta de origem (em dias). Contas antigas tendem a ser v\u00edtimas leg\u00edtimas; novas tendem a ser fraudadoras."},{"location":"03_ia_modelos/catalogo_features/#22-contexto-da-transacao-categoricas","title":"2.2. Contexto da Transa\u00e7\u00e3o (Categ\u00f3ricas)","text":"<p>Atributos t\u00e9cnicos do arranjo PIX que descrevem o m\u00e9todo de inicia\u00e7\u00e3o e prop\u00f3sito.</p> Nome da Feature Tipo Descri\u00e7\u00e3o Funcional Relev\u00e2ncia <code>tipo_iniciacao_pix_id</code> Int M\u00e9todo de entrada (Chave, QR Code, Manual, etc.). M\u00e9dia: Fraudes de Engenharia Social usam frequentemente Chave Manual ou Aleat\u00f3ria. <code>finalidade_pix_id</code> Int Prop\u00f3sito declarado (Transfer\u00eancia, Compra, Retirada). Contextualiza se o valor faz sentido para aquela finalidade."},{"location":"03_ia_modelos/catalogo_features/#23-comportamento-temporal-janelas-deslizantes","title":"2.3. Comportamento Temporal (Janelas Deslizantes)","text":"<p>M\u00e9tricas que capturam o padr\u00e3o de uso recente, calculadas sobre janelas de tempo m\u00f3veis (ex: \u00faltimas 24h).</p> Nome da Feature Janela L\u00f3gica de Neg\u00f3cio Objetivo da Detec\u00e7\u00e3o <code>pagador_txs_ultimas_24h</code> 24h Frequ\u00eancia de uso di\u00e1rio do pagador. Identificar mudan\u00e7a repentina de h\u00e1bito (muitas transa\u00e7\u00f5es em pouco tempo). <code>pagador_valor_ultimas_24h</code> 24h Volume financeiro total movido pelo pagador. Detectar fuga de capital at\u00edpica. <code>recebedor_txs_ultima_1h</code> 1h Intensidade de recebimento recente no destino. Detectar \"contas de passagem\" em ataques coordenados (burst). <code>recebedor_valor_ultima_1h</code> 1h Volume financeiro recebido na \u00faltima hora. Identificar contas que est\u00e3o agregando fundos rapidamente (Fan-In). <code>pagador_segundos_desde_ultima_tx</code> Lag Tempo decorrido desde a opera\u00e7\u00e3o anterior. Intervalos humanos vs. aut\u00f4matos (Bots operam em milissegundos)."},{"location":"03_ia_modelos/catalogo_features/#24-relacionamento-e-grafos","title":"2.4. Relacionamento e Grafos","text":"<p>Vari\u00e1veis que descrevem a for\u00e7a da conex\u00e3o hist\u00f3rica entre a Origem e o Destino.</p> Nome da Feature Tipo Descri\u00e7\u00e3o Funcional Objetivo da Detec\u00e7\u00e3o <code>primeira_interacao</code> Bool Indica se \u00e9 a primeira vez que estas contas interagem. Alerta: A vasta maioria das fraudes ocorre em primeiras intera\u00e7\u00f5es. <code>pagador_interacoes_com_recebedor</code> Int Contagem hist\u00f3rica de transfer\u00eancias entre o par. Estabelece um \"score de confian\u00e7a\" baseado na recorr\u00eancia. <code>recebedor_num_pagadores_unicos_24h</code> Int Quantidade de pessoas diferentes que enviaram dinheiro para este destino hoje. Cr\u00edtico: Detecta topologia de \"Consolida\u00e7\u00e3o de Fundos\" (Muitos para Um), t\u00edpica de lavagem de dinheiro."},{"location":"03_ia_modelos/catalogo_features/#25-indicadores-de-anomalia-ratios","title":"2.5. Indicadores de Anomalia (Ratios)","text":"<p>Raz\u00f5es matem\u00e1ticas normalizadas para identificar outliers financeiros.</p> Nome da Feature F\u00f3rmula Conceitual Descri\u00e7\u00e3o <code>valor_vs_media_pagador_30d</code> \\(Valor / M\u00e9dia_{30d}\\) Quantas vezes o valor atual supera a m\u00e9dia mensal do usu\u00e1rio. Valores altos indicam desvio de perfil. <code>valor_vs_saldo_pagador</code> \\(Valor / Saldo\\) Percentual do saldo comprometido na opera\u00e7\u00e3o. Valores \\(&gt;1.0\\) (uso de cheque especial) s\u00e3o fortes ind\u00edcios de esvaziamento."},{"location":"03_ia_modelos/catalogo_features/#26-variaveis-alvo-targets","title":"2.6. Vari\u00e1veis Alvo (Targets)","text":"<p>R\u00f3tulos hist\u00f3ricos utilizados exclusivamente para o treinamento supervisionado (ignorados ou nulos durante a infer\u00eancia).</p> Nome da Coluna Tipo Descri\u00e7\u00e3o Uso <code>transacao_fraudulenta</code> Int (0/1) Classifica\u00e7\u00e3o Bin\u00e1ria (Leg\u00edtimo vs. Fraude). Alvo do Modelo 1 (Filtro de Risco). <code>tipo_fraude</code> String Categoria da Fraude (ex: 'engenharia_social'). Alvo do Modelo 2 (Tipificador)."},{"location":"03_ia_modelos/catalogo_features/#3-logica-de-engenharia-de-features","title":"3. L\u00f3gica de Engenharia de Features","text":""},{"location":"03_ia_modelos/catalogo_features/#31-tratamento-de-tempo-e-precisao","title":"3.1. Tratamento de Tempo e Precis\u00e3o","text":"<p>Para garantir a precis\u00e3o necess\u00e1ria na detec\u00e7\u00e3o de ataques automatizados (bots), todas as janelas temporais s\u00e3o calculadas com precis\u00e3o de segundos. As datas s\u00e3o convertidas internamente para Unix Timestamp antes do processamento das janelas deslizantes.</p>"},{"location":"03_ia_modelos/catalogo_features/#32-cardinalidade-em-janelas-unique-count","title":"3.2. Cardinalidade em Janelas (Unique Count)","text":"<p>O c\u00e1lculo de <code>recebedor_num_pagadores_unicos_24h</code> utiliza uma abordagem de agrega\u00e7\u00e3o baseada em conjuntos (Sets). Isso permite contar a cardinalidade distinta de origens dentro de uma janela m\u00f3vel, algo essencial para identificar contas que funcionam como \"caixa centralizador\" de fraudes (Topologia Fan-In).</p>"},{"location":"03_ia_modelos/catalogo_features/#33-robustez-matematica-tratamento-de-ratios","title":"3.3. Robustez Matem\u00e1tica (Tratamento de Ratios)","text":"<p>As features de raz\u00e3o (Ratios) possuem mecanismos de defesa contra inconsist\u00eancias matem\u00e1ticas: * Contas Novas: Se o usu\u00e1rio n\u00e3o possui hist\u00f3rico suficiente (m\u00e9dia de 30 dias zerada), a feature de desvio de perfil retorna um valor tratado, evitando erros de divis\u00e3o por zero. * Saldo Zerado: O mesmo tratamento \u00e9 aplicado para c\u00e1lculos envolvendo saldo.</p>"},{"location":"03_ia_modelos/catalogo_features/#34-prevencao-de-vazamento-de-dados-data-leakage","title":"3.4. Preven\u00e7\u00e3o de Vazamento de Dados (Data Leakage)","text":"<p>Todas as m\u00e9tricas hist\u00f3ricas (m\u00e9dias, contagens e somas) s\u00e3o calculadas utilizando uma janela estrita de exclus\u00e3o do evento atual. * L\u00f3gica: As agrega\u00e7\u00f5es consideram do tempo <code>T - Janela</code> at\u00e9 <code>T - 1 segundo</code>. * Motivo: Isso impede que a pr\u00f3pria transa\u00e7\u00e3o que est\u00e1 sendo analisada influencie a m\u00e9dia hist\u00f3rica, o que mascararia anomalias e enviesaria o treinamento do modelo.</p>"},{"location":"03_ia_modelos/inteligencia_artificial/","title":"Arquitetura de Intelig\u00eancia Artificial","text":"<p>A camada de intelig\u00eancia do projeto IARA foi desenhada para operar em tempo real e com alta especificidade. Para equilibrar o custo computacional com a precis\u00e3o da detec\u00e7\u00e3o, adotou-se uma arquitetura de classifica\u00e7\u00e3o em duas etapas (Cascata).</p>"},{"location":"03_ia_modelos/inteligencia_artificial/#1-visao-geral-da-arquitetura","title":"1. Vis\u00e3o Geral da Arquitetura","text":"<p>O sistema n\u00e3o utiliza um \u00fanico modelo gigante. Em vez disso, divide o problema em duas perguntas distintas:</p> <ol> <li>Est\u00e1gio 1 (Filtro de Risco): \"Esta transa\u00e7\u00e3o \u00e9 fraudulenta?\"<ul> <li>Modelo: Classificador Bin\u00e1rio.</li> <li>Objetivo: Maximizar o Recall (evitar Falsos Negativos).</li> </ul> </li> <li>Est\u00e1gio 2 (Tipificador): \"Qual \u00e9 o tipo dessa fraude?\"<ul> <li>Modelo: Classificador Multiclasse.</li> <li>Objetivo: Categorizar o vetor de ataque para automatizar a resposta (ex: bloquear conta vs. alertar cliente).</li> <li>Gatilho: Executado apenas se o Est\u00e1gio 1 classificar como fraude.</li> </ul> </li> </ol>"},{"location":"03_ia_modelos/inteligencia_artificial/#2-stack-tecnologico","title":"2. Stack Tecnol\u00f3gico","text":"<p>A implementa\u00e7\u00e3o utiliza o estado da arte do ecossistema Python para Deep Learning tabular.</p> Componente Biblioteca Vers\u00e3o Fun\u00e7\u00e3o Deep Learning <code>TensorFlow</code> / <code>Keras</code> 2.16.1 Constru\u00e7\u00e3o das Redes Neurais Densas (DNN). Pipeline <code>Scikit-Learn</code> 1.4.2 Pr\u00e9-processamento (<code>ColumnTransformer</code>, <code>StandardScaler</code>). Wrapper <code>SciKeras</code> 0.13.0 Integra\u00e7\u00e3o Keras/Sklearn para uso em Pipelines e GridSearch. Rastreamento <code>MLflow</code> - Versionamento de modelos, m\u00e9tricas e artefatos. Serializa\u00e7\u00e3o <code>Joblib</code> - Persist\u00eancia eficiente dos pipelines."},{"location":"03_ia_modelos/inteligencia_artificial/#3-engenharia-de-features-e-pre-processamento","title":"3. Engenharia de Features e Pr\u00e9-Processamento","text":"<p>Os dados brutos passam por um <code>ColumnTransformer</code> antes de alimentar os tensores das redes neurais.</p>"},{"location":"03_ia_modelos/inteligencia_artificial/#31-transformacoes-numericas","title":"3.1. Transforma\u00e7\u00f5es Num\u00e9ricas","text":"<ul> <li>M\u00e9todo: <code>StandardScaler</code>.</li> <li>Alvo: Features cont\u00ednuas (ex: <code>valor\\_transacao</code>, <code>pagador\\_saldo</code>, <code>ratios</code>).</li> <li>Justificativa: Redes neurais convergem mais r\u00e1pido e s\u00e3o menos enviesadas quando os dados est\u00e3o normalizados (m\u00e9dia 0, desvio padr\u00e3o 1), especialmente para distribui\u00e7\u00f5es Log-Normais.</li> </ul>"},{"location":"03_ia_modelos/inteligencia_artificial/#32-transformacoes-categoricas","title":"3.2. Transforma\u00e7\u00f5es Categ\u00f3ricas","text":"<ul> <li>M\u00e9todo: <code>OneHotEncoder</code> (<code>handle\\_unknown='ignore'</code>).</li> <li>Alvo: IDs categ\u00f3ricos (ex: <code>tipo\\_iniciacao\\_pix\\_id</code>, <code>pagador\\_natureza\\_id</code>).</li> <li>Justificativa: Converte categorias em vetores bin\u00e1rios esparsos, evitando que o modelo infira uma ordem ordinal inexistente.</li> </ul>"},{"location":"03_ia_modelos/inteligencia_artificial/#33-features-temporais-ciclicas","title":"3.3. Features Temporais C\u00edclicas","text":"<ul> <li>M\u00e9todo: <code>FunctionTransformer</code> (Customizado).</li> <li>Alvo: <code>data\\_transacao</code> (Hora do dia, Dia da semana).</li> <li>Justificativa: Transforma o tempo em componentes seno/cosseno para que o modelo entenda a continuidade entre 23h e 00h.</li> </ul>"},{"location":"03_ia_modelos/inteligencia_artificial/#4-especificacao-das-redes-neurais-dnns","title":"4. Especifica\u00e7\u00e3o das Redes Neurais (DNNs)","text":"<p>Ambos os modelos utilizam arquiteturas Feedforward densas, otimizadas via <code>Adam</code>.</p> <p>[Image of feedforward neural network diagram]</p>"},{"location":"03_ia_modelos/inteligencia_artificial/#41-modelo-binario-risco","title":"4.1. Modelo Bin\u00e1rio (Risco)","text":"<pre><code>def build_binary_model(meta):\n    import tensorflow as tf\n    model = tf.keras.Sequential([\n        # Camada de Entrada + Oculta 1\n        tf.keras.layers.Dense(64, activation='relu', input_shape=(meta[\"n_features_in_\"],)),\n        tf.keras.layers.Dropout(0.3),  # Regulariza\u00e7\u00e3o para evitar Overfitting\n\n        # Camada Oculta 2\n        tf.keras.layers.Dense(32, activation='relu'),\n        tf.keras.layers.Dropout(0.3),\n\n        # Sa\u00edda Bin\u00e1ria (Probabilidade 0 a 1)\n        tf.keras.layers.Dense(1, activation='sigmoid')\n    ])\n\n    model.compile(\n        loss='binary_crossentropy',\n        optimizer=tf.keras.optimizers.Adam(learning_rate=0.001),\n        metrics=['AUC', 'Recall']\n    )\n    return model\n</code></pre>"},{"location":"03_ia_modelos/inteligencia_artificial/#42-modelo-multiclasse-tipificador","title":"4.2. Modelo Multiclasse (Tipificador)","text":"<pre><code>def build_multiclass_model(meta):\n    import tensorflow as tf\n    model = tf.keras.Sequential([\n        # Estrutura similar para extra\u00e7\u00e3o de features latentes\n        tf.keras.layers.Dense(64, activation='relu', input_shape=(meta[\"n_features_in_\"],)),\n        tf.keras.layers.Dropout(0.3),\n\n        tf.keras.layers.Dense(32, activation='relu'),\n\n        # Sa\u00edda Multiclasse (Vetor de Probabilidades)\n        # n_classes \u00e9 injetado dinamicamente pelo SciKeras\n        tf.keras.layers.Dense(meta[\"n_classes_\"], activation='softmax')\n    ])\n\n    model.compile(\n        loss='sparse_categorical_crossentropy', # Labels inteiros\n        optimizer=tf.keras.optimizers.Adam(learning_rate=0.001),\n        metrics=['accuracy']\n    )\n    return model\n</code></pre>"},{"location":"03_ia_modelos/inteligencia_artificial/#5-avaliacao-de-performance","title":"5. Avalia\u00e7\u00e3o de Performance","text":"<p>Os modelos foram validados em um conjunto de teste independente (\\~215k amostras).</p>"},{"location":"03_ia_modelos/inteligencia_artificial/#51-resultados-do-modelo-binario","title":"5.1. Resultados do Modelo Bin\u00e1rio","text":"<p>O foco deste modelo \u00e9 o Recall (captura de fraude).</p> M\u00e9trica Resultado An\u00e1lise ROC AUC 0.9806 Capacidade de separa\u00e7\u00e3o excepcional entre leg\u00edtimo e fraude. Recall 0.9267 O modelo detecta \\~92.7% de todas as fraudes apresentadas. Precision 0.9220 Baixa taxa de falsos positivos, reduzindo atrito com clientes. F1-Score 0.9244 Equil\u00edbrio harm\u00f4nico robusto."},{"location":"03_ia_modelos/inteligencia_artificial/#52-resultados-do-modelo-multiclasse","title":"5.2. Resultados do Modelo Multiclasse","text":"<p>Desempenho discriminat\u00f3rio por tipo de ataque (M\u00e9trica AUC One-vs-Rest).</p> Tipo de Fraude AUC (OvR) Performance Engenharia Social 0.9961 Quase Perfeita. Fortemente impulsionada pela feature de idade. Consolida\u00e7\u00e3o de Fundos 0.9816 Excelente. Detecta padr\u00f5es de agrega\u00e7\u00e3o (Fan-In). Valor At\u00edpico 0.9794 Excelente. Detecta desvios de perfil. Triangula\u00e7\u00e3o (Laranja) 0.9651 Muito Forte. Leve confus\u00e3o com \"Valor At\u00edpico\" devido \u00e0 similaridade financeira."},{"location":"03_ia_modelos/inteligencia_artificial/#6-interpretabilidade-feature-importance","title":"6. Interpretabilidade (Feature Importance)","text":"<p>A an\u00e1lise de Permutation Importance revelou o que impulsiona as decis\u00f5es de cada modelo.</p>"},{"location":"03_ia_modelos/inteligencia_artificial/#61-drivers-do-modelo-binario","title":"6.1. Drivers do Modelo Bin\u00e1rio","text":"<p>O modelo de risco foca em anomalias financeiras e temporais.</p> <ul> <li><code>valor\\_transacao</code> (\\~35%): O valor \u00e9 o preditor dominante.</li> <li><code>data\\_transacao</code> (\\~5.4%): Hor\u00e1rios suspeitos (madrugada) s\u00e3o fortes indicativos.</li> <li><code>finalidade\\_pix\\_id</code> (\\~3.0%): O contexto da opera\u00e7\u00e3o.</li> </ul>"},{"location":"03_ia_modelos/inteligencia_artificial/#62-drivers-do-modelo-multiclasse","title":"6.2. Drivers do Modelo Multiclasse","text":"<p>O tipificador depende de dados demogr\u00e1ficos para distinguir os vetores de ataque.</p> <ul> <li><code>pagador\\_data\\_nascimento</code> (\\~25%): Fundamental para separar Engenharia Social (v\u00edtimas idosas) de Laranjas (jovens).</li> <li><code>data\\_transacao</code> (\\~17%): Diferencia ataques automatizados noturnos.</li> </ul>"},{"location":"03_ia_modelos/inteligencia_artificial/#7-pipeline-de-inferencia-e-producao","title":"7. Pipeline de Infer\u00eancia e Produ\u00e7\u00e3o","text":"<p>O sistema exporta artefatos serializados que encapsulam todo o pipeline (transforma\u00e7\u00e3o + modelo) para infer\u00eancia simples via API.</p>"},{"location":"03_ia_modelos/inteligencia_artificial/#71-artefatos-exportados","title":"7.1. Artefatos Exportados","text":"<p>Armazenados no Unity Catalog ou Blob Storage:</p> <ul> <li><code>fraud\\_binary\\_pipeline.pkl</code>: Pipeline completo do classificador de risco.</li> <li><code>fraud\\_type\\_pipeline.pkl</code>: Pipeline completo do tipificador.</li> <li><code>fraud\\_type\\_label\\_map.json</code>: Mapa para decodificar a sa\u00edda num\u00e9rica (ex: 0 -&gt; \"engenharia_social\").</li> </ul>"},{"location":"03_ia_modelos/inteligencia_artificial/#72-logica-de-execucao-prever_fraude","title":"7.2. L\u00f3gica de Execu\u00e7\u00e3o (prever_fraude)","text":"<pre><code># Pseudo-c\u00f3digo da l\u00f3gica de infer\u00eancia\ndef prever_fraude(transacao_df, binary_pipeline, multiclass_pipeline, label_map, THRESHOLD):\n    # 1. Filtro de Risco\n    # Usa predict_proba para obter a probabilidade de ser a classe positiva (fraude)\n    probabilidade = binary_pipeline.predict_proba(transacao_df)[:, 1]\n\n    if probabilidade &lt; THRESHOLD:\n        return {\"status\": \"LEGITIMO\"}\n\n    # 2. Se for fraude, tipificar\n    else:\n        probs_tipos = multiclass_pipeline.predict_proba(transacao_df)\n\n        # Encontra o \u00edndice da classe com maior probabilidade\n        import numpy as np\n        classe_idx = np.argmax(probs_tipos, axis=1)[0]\n\n        nome_fraude = label_map[str(classe_idx)]\n\n        return {\n            \"status\": \"FRAUDE\", \n            \"tipo\": nome_fraude, \n            \"score\": probabilidade[0]\n        }\n</code></pre>"}]}